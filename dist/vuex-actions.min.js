/*!
 * Vuex actions v1.1.1
 * (c) 2016 vnot
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.VuexActions=n.VuexActions||{})}(this,function(n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},r=function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)},e=function(n){return"function"==typeof n},o=function(n){return n&&"object"===("undefined"==typeof n?"undefined":t(n))},u=function(n){return o(n)&&e(n.then)},i=function(n){return o(n)&&Object.keys(n).some(function(t){return u(n[t])})},c=function(n){return null!==a(n)},f={PENDING:"pending",SUCCESS:"success",ERROR:"error"},a=function(n){return e(n)?n._deps:null},l=function(n){return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e(n)&&r.length&&(n._deps=r),n}},y=function(n,t){for(var o=arguments.length,u=Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return e(n)&&c(n)?n.apply(void 0,r(a(n).map(function(n){return t[n]})).concat(u)):n},p=function(n){function t(r){var e=u.filter(function(n){return f.indexOf(n)===-1}),o=[];e.length&&(e.forEach(function(t){var r=a(n[t]).every(function(t){return f.indexOf(t)>-1||!(t in n)});r&&o.push(t)}),o.length&&(r.push(o),f.push.apply(f,o)),t(r))}function e(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return l.reduce(function(n,r){return n.then(function(){return o.apply(void 0,[r].concat(t))})},Promise.resolve(1))}function o(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];var u=t.map(function(t){return y.apply(void 0,[n[t],n].concat(e))});return Promise.all(u).then(function(r){t.forEach(function(t,e){n[t]=r[e]})})}var u=Object.keys(n),i=u.filter(function(t){return!c(n[t])}),f=[].concat(r(i)),l=[i];return t(l),{run:e}},s=function(n,t,r){var e=t.type,o=t.payload;n(e,{__status__:r,__payload__:o})},d=function(n,t){s(n,t,f.PENDING)},h=function(n,t){s(n,t,f.SUCCESS)},v=function(n,t){s(n,t,f.ERROR)},_=function(n,t){var r=e(t)?t:function(){return arguments.length<=0?void 0:arguments[0]};return function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),c=1;c<e;c++)o[c-1]=arguments[c];var f=t.dispatch,a=t.commit,l=r.apply(void 0,o),y={type:n,payload:l};if(a=a||f,u(l))return d(a,y),l.then(function(n){return h(a,Object.assign(y,{payload:n}))},function(n){return v(a,Object.assign(y,{payload:n}))});if(i(l)){var s=p(l);return d(a,y),s.run.apply(s,o).then(function(n){return h(a,y)}).catch(function(n){return v(a,Object.assign(y,{payload:n}))})}return h(a,y)}},m=function(n){return function(t,r){var o=r.__status__,u=r.__payload__;if(e(n))o===f.SUCCESS&&n(t,u);else{var i=n[o];e(i)&&i(t,u)}}},b=function(n){return Object.keys(n).forEach(function(t){n[t]=m(n[t])}),n};n.createAction=_,n.handleAction=m,n.handleMutations=b,n.$inject=l,Object.defineProperty(n,"__esModule",{value:!0})});