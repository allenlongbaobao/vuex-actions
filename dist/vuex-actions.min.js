/*!
 * Vuex actions v1.1.0
 * (c) 2016 vnot
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.VuexActions=n.VuexActions||{})}(this,function(n){"use strict";var t=function(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)},r=function(n){return"function"==typeof n},e=function(n){return"[object Object]"===Object.prototype.toString.call(n)},o=function(n){return e(n)&&r(n.then)},u=function(n){return e(n)&&Object.keys(n).some(function(t){return o(n[t])})},c=function(n){return null!==f(n)},i={PENDING:"pending",SUCCESS:"success",ERROR:"error"},f=function(n){return r(n)?n._deps:null},a=function(n){return function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return r(n)&&e.length&&(n._deps=e),n}},l=function(n,e){for(var o=arguments.length,u=Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return r(n)&&c(n)?n.apply(void 0,t(f(n).map(function(n){return e[n]})).concat(u)):n},p=function(n){function r(t){var e=u.filter(function(n){return a.indexOf(n)===-1}),o=[];e.length&&(e.forEach(function(t){var r=f(n[t]).every(function(t){return a.indexOf(t)>-1||!(t in n)});r&&o.push(t)}),o.length&&(t.push(o),a.push.apply(a,o)),r(t))}function e(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return p.reduce(function(n,r){return n.then(function(){return o.apply(void 0,[r].concat(t))})},Promise.resolve(1))}function o(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];var u=t.map(function(t){return l.apply(void 0,[n[t],n].concat(e))});return Promise.all(u).then(function(r){t.forEach(function(t,e){n[t]=r[e]})})}var u=Object.keys(n),i=u.filter(function(t){return!c(n[t])}),a=[].concat(t(i)),p=[i];return r(p),{run:e}},s=function(n,t,r){var e=t.type,o=t.payload;n(e,{__status__:r,__payload__:o})},y=function(n,t){s(n,t,i.PENDING)},d=function(n,t){s(n,t,i.SUCCESS)},h=function(n,t){s(n,t,i.ERROR)},v=function(n,t){var e=r(t)?t:function(){return arguments.length<=0?void 0:arguments[0]};return function(t){for(var r=arguments.length,c=Array(r>1?r-1:0),i=1;i<r;i++)c[i-1]=arguments[i];var f=t.dispatch,a=t.commit,l=e.apply(void 0,c),s={type:n,payload:l};if(a=a||f,o(l))return y(a,s),l.then(function(n){return d(a,Object.assign(s,{payload:n}))},function(n){return h(a,Object.assign(s,{payload:n}))});if(u(l)){var v=p(l);return y(a,s),v.run.apply(v,c).then(function(n){return d(a,s)}).catch(function(n){return h(a,Object.assign(s,{payload:n}))})}return d(a,s)}},_=function(n){return function(t,e){var o=e.__status__,u=e.__payload__;if(r(n))o===i.SUCCESS&&n(t,u);else{var c=n[o];r(c)&&c(t,u)}}},g=function(n){return Object.keys(n).forEach(function(t){n[t]=_(n[t])}),n};n.createAction=v,n.handleAction=_,n.handleMutations=g,n.$inject=a,Object.defineProperty(n,"__esModule",{value:!0})});